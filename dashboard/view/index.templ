package view

import "github.com/arejula27/data-intensive-demo/dashboard/model"

templ IndexPage() {
	<!DOCTYPE html>
	<html>
		<head>
			<!-- Required meta tags -->
			<meta charset="utf-8"/>
			<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
			<title>Chart.js Filled Line Chart</title>
			<!--Chart.js JS CDN-->
			<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js"></script>
		</head>
		<body>
			@Chart([]model.TimeSeries{})
		</body>
	</html>
}

templ Chart(values []model.TimeSeries) {
	<div>
		<canvas id="myChart"></canvas>
	</div>
	<script type="text/javascript">
	var ctx = document.getElementById('myChart').getContext('2d');
	var myChart = new Chart(ctx, {
		type: 'line',
		data: {
			labels: ["Sunday", "Monday", "Tuesday", "Wednesday"],
			datasets: [{
				data: [86, 30, 60, 70],
				label: "Trump",
				borderColor: "rgb(227,17,17)",
				backgroundColor: "rgb(227,17,17,0.1)",
			}, {
				data: [14, 70, 40, 30],
				label: "Harris",
				borderColor: "rgb(62,149,205)",
				backgroundColor: "rgb(62,149,205,0.1)",
			}
			]
		},
		options: {
			scales: {
				yAxes: [{
					stacked: true
				}]
			}
		},
	});
</script>
}
